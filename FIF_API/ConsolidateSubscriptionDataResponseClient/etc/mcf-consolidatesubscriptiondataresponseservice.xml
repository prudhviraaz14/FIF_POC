<?xml version="1.0" encoding="UTF-8"?>
<!--
    ******************************************************************************
    COBS 1.24 Application Configuration File
    
    IMPORTANT NOTICE: This file is automatically generated. Any change 
    applied to this file has to be reported to IT Change Management (OSX)
    
    WICHTIGER HINWEIS: Diese Datei wird automatisch erzeugt. Jede Aenderung 
    an dieser Datei muss berichtet werden an IT Change Management (OSX)
    
    Environment     : kt
    Config          : 303
    
    Product         : FIF
    Build           : 136.00
    
    Package         : pkgbksat 
    Application     : FIF
    Stream          : INF
    Instance        : kt_bks@pkgfifgt/ccb/ccb20/kt/pkgfifgt/aaw/kt/bks/PRD/apps/BKS/etc/mcf-bksservice.xml
    
    Language        : XML
    
    Config File     : mcf-consolidatesubscriptiondataresponseservice.xml
    Config Date     : 09.01.2013
    Config Autor    : schwarje
    
    (c)Copyright 1999-2007 Arcor AG & Co. KG
    ******************************************************************************
-->
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:jms="http://www.springframework.org/schema/jms"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:util="http://www.springframework.org/schema/util" 
    xmlns:context="http://www.springframework.org/schema/context" 
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                        http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms-2.5.xsd
                        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
                        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd                       
                        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">

    <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location" value="classpath:consolidateSubscriptionDataResponse.properties"/>
        <property name="ignoreUnresolvablePlaceholders" value="true"/>
    </bean>
        
    <import resource="classpath:/mcf2/mcf2-nodb-applicationContext.xml"/>
    <!-- MCF2 webservice extension: -->
    <!-- <import resource="classpath:/mcf2/ws/wsApplicationContext.xml"/> -->
    
    <!-- Queue configuration -->
    <bean id="mcf-default-listener" class="net.arcor.mcf2.listener.MCFMessageListenerContainer">
        <property name="connectionFactory" ref="connectionFactory"/>
        <property name="destinationName" value="${mcf.queue.listen}"  />
        <property name="concurrentConsumers" value="${ConcurrentConsumers}" />
        <property name="transactionManager" ref="jmsTransactionManager" />
        <property name="messageListener" ref="mcfMessageListener" />
        <property name="messageSelector" value="
            JMSType = 'Response' and SBUS_Servicename = 'consolidateSubscriptionDataService'"/>
    </bean> 
    
    <!-- Die fuer diesen Adapter definierten Services -->
    <bean id="serviceRegistryEndpoint"
        class="net.arcor.mcf2.model.ServiceRegistryEndpoint">
        <property name="serviceConfigs">
            <list>
                <ref bean="consolidateSubscriptionDataServiceConfig"/>
            </list>
        </property>
    </bean>
    
    <bean id="consolidateSubscriptionDataHandler"
        class="net.arcor.fif.servicehandler.ConsolidateSubscriptionDataHandler"/>
    
    
    <bean id="consolidateSubscriptionDataServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <constructor-arg value="consolidateSubscriptionDataService,001"/>
        <constructor-arg value="EPSM-CCM-ConsolidateSubscriptionData-001.xsd"/>
        <constructor-arg value="net.arcor.ccm.epsm_ccm_consolidatesubscriptiondata_001"/>
        <constructor-arg ref="consolidateSubscriptionDataHandler"/>
    </bean> 
    
</beans>
